# Welcome to Eco-Bot Storybook

Welcome to the Eco-Bot component library documentation! This Storybook showcases the UI components and visualizations used in the Eco-Bot application - a multi-agent system focused on promoting ecological and environmental awareness.

## üåç About Eco-Bot

Eco-Bot is an interactive, educational AI bot that uses the Gaia-Bohm Thought Style (GBTS) to guide users through environmental topics. The system features:

- **Multi-agent Communication**: Various eco-buddies that specialize in different environmental topics
- **GBTS Guided Conversations**: A unique conversational structure inspired by nature
- **Visual Representations**: Interactive tree visualizations of conversation flow
- **Data-Driven Design**: JSON-based data management for stories and configurations
- **Dynamic Story Frames**: Content containers ready for agent-generated narratives

## üìö Component Categories

### Story Components

Components designed for multi-agent dynamic content:

- **StoryFrame**: Dynamic story frame with illustration placeholders, mood-based theming, and agent attribution
  - Supports loading states for async content generation
  - Interactive controls for user engagement
  - Ready for agent-populated content

### Core Components

UI components used throughout the application:
- **Avatar**: Displays eco-buddy profile images
- **ChatBox**: Text input for user messages  
- **ChatArea**: Combined avatar and message display

### Visualizations
Interactive data visualizations:
- **GBTSTree**: Tree visualization of conversation structure

## ü§ñ Multi-Agent Architecture

### How Agents Populate Story Frames

The StoryFrame component is designed to receive dynamically generated content:

```jsx
// Agent generates content for a story frame
const frameContent = await ecoBot.generateStoryContent({
  topic: "composting",
  mood: "curious",
  includeIllustration: true
});

// Render the frame with agent content
<StoryFrame
  id={frameContent.id}
  title={frameContent.title}
  content={frameContent.narrative}
  illustration={frameContent.imageUrl}
  agent="Eco-Bot"
  mood={frameContent.mood}
  interactive={true}
/>
```

### Service Container (Dependency Injection)

The system uses a service container for loose coupling:

```jsx
import { container } from './data/serviceContainer';

// Register services
container.registerSingleton('logger', () => logger);
container.registerSingleton('dataManager', () => dataManager);
container.registerTransient('storyGenerator', (logger) => {
  return new StoryGenerator(logger);
}, ['logger']);

// Resolve services
const storyGen = container.resolve('storyGenerator');
```

## üìä Data Management

### Centralized Data Layer

Located in `stories/data/storyData.js`:
- GBTS prompt structures
- Visualization data
- Eco-bot personality configurations
- Sample conversations

### DataManager Features

```jsx
import { dataManager } from './data/storyData';

// Register a collection for story frames
dataManager.registerCollection('storyFrames', []);

// Add agent-generated content
const frame = dataManager.add('storyFrames', {
  title: "The Journey Begins",
  content: "Once upon a time...",
  mood: "curious",
  agent: "Eco-Bot"
});

// Query frames by mood
const curiousFrames = dataManager.query('storyFrames', 
  frame => frame.mood === 'curious'
);

// Listen for data changes
dataManager.on('itemAdded', ({ collection, item }) => {
  console.log('New content added:', item);
});
```

### Logging System

Comprehensive logging for debugging:

```jsx
import { logger, LogCategory } from './data/logger';

// Log with categories
logger.info(LogCategory.DATA, 'Frame generated', { frameId: '123' });
logger.validation.warn('Invalid mood specified');

// View log history
const recentLogs = logger.getHistory({ limit: 10 });
```

## üå± GBTS - Gaia-Bohm Thought Style

The GBTS system structures conversations as a growing tree:

1. **üå± Seed of Inquiry** - The initial question
2. **üåø Branches of Understanding** - Related sub-topics
3. **üçÉ Leaves of Application** - Practical applications
4. **üå≥ Roots of Connection** - Deep underlying connections
5. **üå≤ Forest of Exploration** - Broader related topics
6. **üå¥ Canopy of Synthesis** - Integration of insights
7. **üåæ Harvest of Wisdom** - Key takeaways

## üöÄ Getting Started

### Running Storybook

```bash
npm run storybook
```

### Running Tests

```bash
npm run test
```

### Building Static Storybook

```bash
npm run build-storybook
```

### Using Components

```jsx
import Avatar from './stories/components/Avatar';
import ChatBox from './stories/components/ChatBox';
import ChatArea from './stories/components/ChatArea';
import StoryFrame from './stories/components/StoryFrame';
import GBTSTree from './stories/visualizations/GBTSTree';

// Import data management utilities
import { 
  gbtsVisualizationData, 
  ecoBuddies, 
  validateGBTSData,
  dataManager,
  logger
} from './stories/data/storyData';

// Import dependency injection
import { container } from './stories/data/serviceContainer';
```

## üìä JSON Data Structure

### Visualization Data

```json
{
  "nodes": [
    { "id": "Seed of Inquiry", "group": 1 }
  ],
  "links": [
    { "source": "Seed of Inquiry", "target": "Branch 1" }
  ]
}
```

### Story Frame Data

```json
{
  "id": "frame-1",
  "title": "The Seed of Curiosity",
  "chapter": 1,
  "content": "Narrative text...",
  "illustration": "https://...",
  "mood": "curious",
  "agent": "Eco-Bot",
  "agentAvatar": "https://..."
}
```

### Eco-Buddy Data

```json
{
  "id": "eco-bot",
  "name": "Eco-Bot",
  "avatar": "https://example.com/avatar.png",
  "specialty": "General sustainability"
}
```

## üé® Theming

Eco-Bot uses a nature-inspired color palette:
- **Primary Green**: #4CAF50
- **Forest Green**: #228B22
- **Light Green**: #A8E6CF
- **Earth Brown**: #8B4513
- **Wisdom Gold**: #FFD700

### Mood Colors
- **Curious**: Green tones (#4CAF50)
- **Excited**: Orange tones (#FF9800)
- **Thoughtful**: Blue tones (#2196F3)
- **Wise**: Purple tones (#9C27B0)
- **Playful**: Pink tones (#E91E63)

## üîó Resources

- [Eco-Bot Repository](https://github.com/KHMSmartBuild/Eco-Bot)
- [Storybook Documentation](https://storybook.js.org/)
- [React Documentation](https://react.dev/)
